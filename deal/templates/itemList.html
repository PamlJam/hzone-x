{% extends 'base.html' %}

{% block title %}
    hzone | 交易
{% endblock %}

{% block main %}
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="input-group">
            <!-- 输入框组 -->
                <input type="text" class="form-control" placeholder="Search for Items ...">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button">
                        <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                </span>
            </div>
            <br>
            {% if sort == 'price' %}
                <a href="/deal?sort=-price">
                    <button id='price' type="button" class="btn btn-primary active">
                        价格升序 <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
                    </button>
                </a>
            {% elif sort == '-price' %}
                <a href="/deal">
                    <button id='price' type="button" class="btn btn-primary active">
                        价格降序 <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
                    </button>
                </a>
            {% else %}
                <a href="/deal/?sort=price">
                    <button id='price' type="button" class="btn btn-primary">
                        价格排序 <span class="glyphicon glyphicon-resize-vertical" aria-hidden="true"></span>
                    </button>
                </a>
            {% endif %}
            <!-- 形成闭环 -->
            {% if sort == 'time' %}
                <a href="/deal?sort=-time">
                    <button type="button" class="btn btn-primary active">
                        时间升序 <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
                    </button>
                </a>
            {% elif sort == '-time' %}
                <a href="/deal">
                    <button type="button" class="btn btn-primary active">
                        时间降序 <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
                    </button>
                </a>
            {% else %}
                <a href="/deal?sort=time">
                    <button type="button" class="btn btn-primary">
                        时间排序 <span class="glyphicon glyphicon-resize-vertical" aria-hidden="true"></span>
                    </button>
                </a>
            {% endif %}

            {% if chop != '1' %}
                <a href="/deal?chop=1">
                    <button id='chop' type="button" class="btn btn-primary">
                        只看可刀 <span class="glyphicon glyphicon-ok-sign" aria-hidden="true"></span>
                    </button>
                </a>
            {% else %}
                <a href="/deal">
                    <button id='chop' type="button" class="btn btn-primary active">
                        只看可刀 <span class="glyphicon glyphicon-remove-sign" aria-hidden="true"></span>
                    </button>
                </a>
            {% endif %}            
        </div>
    </div>
    {% for item in items %}
        <div class="panel panel-info">
            <div class="panel-body">
                <div class="media">
                <!-- 媒体对象 -->
                    <div class="media-left media-middle">
                    <!-- 靠左 垂直居中 -->
                        <img src="http://www.5h.com/m5h/s/hanbao/uploadfile/f9383a8b689d4b3bc3852ef9ddfc1f59.jpg"
                            style="height:150px" class="media-object img-thumbnail" >
                            <!-- 图片添加圆角 -->
                    </div>
                    <div class="media-body">
                        <h4>{{ item.name }}</h4>
                        <hr>    
                        <em>
                        <!-- 斜体字 -->
                            <font style="color:grey" size="2">
                            <!-- 其他字体属性 -->
                                {{ item.info }}
                            </font> 
                        </em>
                        <hr>
                        ￥ <font size="4" face="Verdana">{{ item.price }}</font> 
                    </div>
                </div>
            </div>
            <div class="panel-footer">
                <span class="label label-default"> x {{ item.count }}</span>
                {% if item.chop %}
                    <span class="label label-success">可刀</span>
                {% else %}
                    <span class="label label-danger">不刀</span>
                {% endif %}
                <span class="label label-warning">{{ item.time | date:"Y-m-d" }}</span>
                <a target = "_blank" href="/user/{{item.owner.id}}">
                    <span class="label label-info">卖家主页</span>
                </a>
            </div>
        </div>
    {% endfor %}
{% endblock %}
